# Problem 2 – Even Fibonacci Numbers

**Problem Statement:**

Each new term in the Fibonacci sequence is generated by adding the previous two terms.  
Starting with $1$ and $2$, the first ten terms are:

$$0,\,1,\,2,\,3,\,5,\,8,\,13,\,21,\,34,\,55,\,89, \dots \text{ (1) }$$

Or in a way that:

$$0,\,1,\,1,\,2,\,3,\,5,\,8,\,13,\,21,\,34,\,55,\,89, \dots \text{ (2) }$$

Or in a simplifyed way, I removed the first term:

$$1,\,1,\,2,\,3,\,5,\,8,\,13,\,21,\,34,\,55,\,89, \dots \text{ (3) }$$

**Task:**  
Find the sum of the even-valued Fibonacci terms whose values do not exceed $4\,000\,000$.

---

## Approach

- Generate Fibonacci numbers iteratively until the value exceeds $4\,000\,000$.
- Add a term to the sum only if it is even.
- Print the final sum.

---

## Formula Optimization (Optional)

### 1. Identify the subsequence you really need

By consideting the simplifyed term $3$, let $F_n$ be the ordinary Fibonacci numbers ($F_1 = 1,\;F_2 = 1$).
One can show that every **third** Fibonacci number is even:

$$
F_3=2,\;F_6=8,\;F_9=34,\;\dots
$$

Define $E_k = F_{3k}$. These even terms satisfy the two-term recurrence

$$
E_{k} = 4E_{k-1} + E_{k-2}\qquad (k\ge 3),\quad
E_1 = 2,\;E_2 = 8.
$$

This comes from substituting the Fibonacci recurrence three times and simplifying.

### 2. Generate only as many terms as you need

Because the limit is $4\,000\,000$, iterate the tiny recurrence by hand:

| $k$ | $E_k$                          | running sum   |
| --- | ------------------------------ | ------------- |
| 1   | 2                              | 2             |
| 2   | 8                              | 10            |
| 3   | 34                             | 44            |
| 4   | 144                            | 188           |
| 5   | 610                            | 798           |
| 6   | 2 584                          | 3 382         |
| 7   | 10 946                         | 14 328        |
| 8   | 46 368                         | 60 696        |
| 9   | 196 418                        | 257 114       |
| 10  | 832 040                        | 1 089 154     |
| 11  | 3 524 578                      | **4 613 732** |
| 12  | 14 930 352  > 4 000 000 → stop |               |

No code required—just two multiplications and one addition per row.

### 3. Closed-form check (optional)

Binet’s formula gives a neat identity for the partial sums:

$$
\sum_{k=1}^{n} E_k \;=\; \frac{F_{3n+2}-1}{2}.
$$

So once you spot that the largest valid index is $n=11$ (because $E_{12}$ overshoots the limit), one line of algebra confirms

$$
\frac{F_{3\cdot 11 + 2}-1}{2}
=\frac{F_{35}-1}{2}
=\frac{9\,227\,465-1}{2}
=4\,613\,732.
$$

Either way—recurrence or closed-form—the answer is the same: **4 613 732**, all derived mathematically without writing a program

---

Using this recurrence reduces iterations by a factor of ≈3, but the straightforward loop is already $\mathcal{O}(n)$ and runs in microseconds in Go, so either method is acceptable here.
